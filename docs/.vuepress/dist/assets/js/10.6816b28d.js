(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{354:function(e,t,n){},355:function(e,t,n){},356:function(e,t,n){},393:function(e,t,n){"use strict";var r=n(4),i=n(45).findIndex,a=n(101),d=!0;"findIndex"in[]&&Array(1).findIndex((function(){d=!1})),r({target:"Array",proto:!0,forced:d},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("findIndex")},394:function(e,t,n){"use strict";var r=n(4),i=n(103),a=n(46),d=n(26),o=n(14),l=n(107),s=n(48),c=n(49)("splice"),u=Math.max,f=Math.min;r({target:"Array",proto:!0,forced:!c},{splice:function(e,t){var n,r,c,p,v,h,_=o(this),m=d(_),b=i(e,m),x=arguments.length;if(0===x?n=r=0:1===x?(n=0,r=m-b):(n=x-2,r=f(u(a(t),0),m-b)),m+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(c=l(_,r),p=0;p<r;p++)(v=b+p)in _&&s(c,p,_[v]);if(c.length=r,n<r){for(p=b;p<m-r;p++)h=p+n,(v=p+r)in _?_[h]=_[v]:delete _[h];for(p=m;p>m-r+n;p--)delete _[p-1]}else if(n>r)for(p=m-r;p>b;p--)h=p+n-1,(v=p+r-1)in _?_[h]=_[v]:delete _[h];for(p=0;p<n;p++)_[p+b]=arguments[p+2];return _.length=m-r+n,c}})},395:function(e,t,n){"use strict";n(354)},396:function(e,t,n){"use strict";n(355)},397:function(e,t,n){"use strict";n(356)},404:function(e,t,n){"use strict";n.r(t);n(393),n(394),n(100);var r={name:"xTreeNode",props:{data:{type:Object,default:function(){}}},inject:["eventBus"],methods:{appendNode:function(e){this.eventBus.$emit("append",e)},removeNode:function(e){this.eventBus.$emit("remove",e)}}},i=(n(395),n(42)),a=Object(i.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tree__node"},[e.data.children&&e.data.children.length?[n("span",[e._v(e._s(e.data.label))]),e._v(" "),e._l(e.data.children,(function(e){return n("x-tree-node",{key:e.label,attrs:{data:e}})}))]:[n("div",{staticClass:"tree__node__main"},[n("span",{staticClass:"tree__node__label"},[e._v(e._s(e.data.label))]),e._v(" "),n("div",{staticClass:"tree__node--operate"},[n("span",{on:{click:function(t){return e.appendNode(e.data)}}},[e._v("新增")]),e._v(" "),n("span",{on:{click:function(t){return e.removeNode(e.data)}}},[e._v("删除")])])])]],2)}),[],!1,null,"748c83e0",null).exports,d=n(0);var o={props:{data:{type:Array,default:function(){return[]}}},data:function(){return{eventBus:new d.a,flatTreeData:null}},provide:function(){return{eventBus:this.eventBus}},created:function(){var e=this;this.eventBus.$on("append",(function(t){e.$emit("append",t)})),this.eventBus.$on("remove",(function(t){var n=function(e,t){var n=function e(n,a){return n?n.id===t?(r=n,void(i=a)):void(n.children&&n.children.forEach((function(t){t&&e(t,n)}))):null},r=null,i=null;for(var a in e)if(n(e[a],t),r)return{node:r,parent:i};return{node:r,parent:i}}(e.data,t.id).parent;e.$emit("remove",t,n)}))},components:{xTreeNode:a}},l=(n(396),Object(i.a)(o,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tree"},this._l(this.data,(function(e){return t("x-tree-node",{key:e.label,attrs:{data:e}})})),1)}),[],!1,null,"767d5dfd",null).exports),s=999,c={components:{xTree:l,xTreeNode:a},methods:{append:function(e){var t={id:s++,label:"testtest"+s,children:[],parent:e};e.children||this.$set(e,"children",[]),e.children.push(t)},remove:function(e,t){var n;console.log(e,t);var r=null!==(n=t.children)&&void 0!==n?n:this.treeData,i=r.findIndex((function(t){return t.id===e.id}));r.splice(i,1)}},data:function(){return{treeData:[{id:1,label:"一级 1",children:[{id:4,label:"二级 1-1",children:[{id:9,label:"三级 1-1-1"},{id:10,label:"三级 1-1-2"}]}]},{id:2,label:"一级 2",children:[{id:5,label:"二级 2-1"},{id:6,label:"二级 2-2"}]}]}}},u=(n(397),Object(i.a)(c,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"wrapper"},[t("div",[t("x-tree",{attrs:{data:this.treeData},on:{append:this.append,remove:this.remove}})],1)])}),[],!1,null,null,null));t.default=u.exports}}]);